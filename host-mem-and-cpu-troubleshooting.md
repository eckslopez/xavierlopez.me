### Host Memory and CPU Troubleshooting
- Check name resolution  
  - `cat /etc/nsswitch.conf`
  - `getent hosts`
  - `dig`
  - `resolvectl`
- Interface information
  - What's thej name of the interface we're using?  
  - `ip a s`
  - Are we dropping packets?  
  - `ip -s link show <iface-name>`
  - Look at the raw information:  
  - `cat /proc/net/dev`
  - Look at the same file, with columns:  
  - `column -t /proc/net/dev`
  - View configured options of the NIC, to see it's maximum bandwidth and speed capability, in order to compare it to the actual performance:  
  - `ethtool <interface-name>`
  - View current bandwidth and NIC speed:  
  - `nload <interface-name>`
- Test network access and network configuration issues
  - Automate ping of default gateway
  - `ping $(/sbin/ip route show | awk '/default/ { print $3 }')`
  - Check subnet mask to be sure it's the same as all the other hosts on the network.
  - `ip -4 addr show`
  - `ip -4 route`
  - Port scanning: check to see if port 22 is open on localhost
  - `nmap -p 22 localhost`
  - Check to see if port 22 is open on a range of hosts.
  - `nmap -p 22 192.168.1.11-13`
- Firewalls
- Enable firewall
  - `sudo systemctl enable --now firewalld`
- List firewall rules
  - `sudo firewall-cmd --list-all` 
- Memory / CPU
- Install and enable sysstat
  - `systemctl enable --now sysstat`
  - `systemctl status sysstat`
- Enable sysstat data collection
  - `sudo vim /etc/default/sysstat`
  - `ENABLED="true"`
- Check sysstat configuration
  - `sudo cat /etc/cron.d/sysstat`
- Understanding uptime and load averages for 1, 5, and 15 mns.
  - `uptime`
  - Just uptime, no averages
  - `uptime -s`
  - Pretty output
  - `uptime -p`
  - Check uptime in seconds and idle time, respectively.
  - `cat /proc/uptime`
  - Learn about the proc filesystem, the pseudo-filesystem which provides an interface to kernel data structures.
  - `man procfs`
  - List CPUs
  - `lscpu`
  - How many cpus?
  - `lscpu | grep '^CPU(s)'` 
- Monitoring high CPU with mpstat and sar -u
  - `mpstat`
  - Run every 1 second for 60 seconds on all processors.
  - `mpstat 1 60`
  - Run every 1 second for 60 seconds on 0 processor.
  - `mpstat -P 0 1 60` 
  - Check historical load information for all or one processor, with the System Activity Reporter.
  - `sar -u / sar-u -P 0` 
  - Identify CPU hog using Top
  - `top`
- Viewing RAM and Swap usage
  - `free -h`
  - `cat /proc/meminfo`
  - View collected memory information
  - `sar -r`
  - Sort top by memory usage f, Arrow Down TO MEM
  - `top`
    - `f to open fields`
    - `arrow down from CPU to MEM`
    - `s for select`
    - `q for quit`